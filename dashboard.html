<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Panel - Estudiantes</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    body { background: linear-gradient(180deg, #f4f7fb 0%, #ffffff 100%); }
    .app-navbar { backdrop-filter: saturate(180%) blur(6px); }
    .panel { background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:1rem; box-shadow:0 8px 30px rgba(0,0,0,.06); }
    .panel-header { padding:1rem 1.25rem; border-bottom:1px solid rgba(0,0,0,.06); font-weight:600; display:flex; align-items:center; gap:.6rem; }
    .panel-body { padding:1.25rem; }
    .section-title { font-weight:700; letter-spacing:.2px; }
    @media (min-width: 992px){ .sticky-col{ position:sticky; top:88px; } }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom app-navbar sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#"><i class="fas fa-graduation-cap me-2"></i>Panel de Estudiantes</a>
      <div class="ms-auto d-flex align-items-center gap-2">
        <span class="text-muted d-none d-md-inline">Sesión activa</span>
        <button onclick="cerrarSesion()" class="btn btn-outline-danger">
          <i class="fas fa-sign-out-alt me-2"></i>Cerrar sesión
        </button>
      </div>
    </div>
  </nav>

  <!-- CONTENIDO -->
  <main class="container py-4 py-lg-5">
    <div class="row g-4">
      <!-- Col izquierda -->
      <div class="col-lg-4">
        <div class="sticky-col">

          <!-- Registrar / Editar -->
          <section class="panel mb-4">
            <div class="panel-header">
              <i class="fas fa-user-plus text-primary"></i>
              <span class="section-title">Registrar estudiante</span>
            </div>
            <div class="panel-body">
              <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" id="nombre" class="form-control" placeholder="Nombre del estudiante"/>
              </div>
              <div class="mb-3">
                <label for="correo" class="form-label">Correo</label>
                <input type="email" id="correo" class="form-control" placeholder="correo@ejemplo.com"/>
              </div>
              <div class="mb-3">
                <label for="clase" class="form-label">Clase</label>
                <input type="text" id="clase" class="form-control" placeholder="Ej. Matemáticas"/>
              </div>
              <button id="btn-guardar" onclick="agregarEstudiante()" class="btn btn-primary w-100">
                <i class="fas fa-plus-circle me-2"></i>Agregar
              </button>
            </div>
          </section>

          <!-- Subir Archivo -->
          <section class="panel">
            <div class="panel-header">
              <i class="fas fa-upload text-warning"></i>
              <span class="section-title">Subir archivo</span>
            </div>
            <div class="panel-body">
              <div class="mb-3">
                <label for="archivo" class="form-label">Archivo</label>
                <input type="file" id="archivo" class="form-control" />
              </div>
              <button onclick="subirArchivo()" class="btn btn-success w-100">
                <i class="fas fa-cloud-upload-alt me-2"></i>Subir
              </button>
            </div>
          </section>

        </div>
      </div>

      <!-- Col derecha -->
      <div class="col-lg-8">
        <!-- Lista estudiantes -->
        <section class="panel mb-4">
          <div class="panel-header">
            <i class="fas fa-users text-success"></i>
            <span class="section-title">Lista de estudiantes</span>
          </div>
          <div class="panel-body">
            <ul id="lista-estudiantes" class="list-group list-unstyled"></ul>
            <div id="empty-estudiantes" class="text-muted small d-none mt-3">No hay estudiantes todavía.</div>
          </div>
        </section>

        <!-- Archivos -->
        <section class="panel">
          <div class="panel-header">
            <i class="fas fa-folder-open text-info"></i>
            <span class="section-title">Archivos subidos</span>
          </div>
          <div class="panel-body">
            <ul id="lista-archivos" class="list-group list-group-flush"></ul>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Tu JS (con querystring para evitar caché) -->
  <script src="js/dashboard.js?v=5"></script>
</body>
</html>
